### 시스템 구성과 프로그램 동작 ([링크](https://terms.naver.com/entry.naver?docId=3431931&categoryId=58437&cid=58437))

- **프로그램과 코드 보안**
    
    소스코드에서 보안 취약점 가장 쉽게 발생.
    
    → 데이터의 형태와 길이에 대한 불명확한 정의로 인해 발생!!
    

### 1. 시스템 메모리의 구조

프로그램 실행 시 프로그램 동작 위한 가상의 공간이 메모리에 생성.

- **스택** : 상위 메모리
    - 인자와 프로세스 상태 저장.
    - 레지스터 임시 저장. 서브루틴 복귀 주소 저장. 서브루틴에 인자 전달.
- **힙** : 하위 메모리
    - 동적 할당을 위해 만든 메모리
    - 프로그램에 의해 할당되었다가 회수되는 작용 되풀이함.
- **레지스터** : CPU 임시 메모리
    - CPU 연산과 어셈블리어 동작에 필요
    - 범용레지스터

### 2. 프로그램 실행 구조

- 스택 바닥부터 쌓이는데, 인자 값이 전달되고 난 후에 지역변수가 세팅됨.

### 3. 셸

- 운영체제를 둘러싸고 있으면서 입력 받는 명령어를 실행하는 명령어
- 탐색기, 커맨드 창 다 쉘임~

### 4. 프로세스 권한과 SetUID

1. SetUID
    
    유닉스 파일에 rwsr-xr-x로 권한이 설정되어 있는 경우 말함.
    
    누가 실행하는 상관없이 해당 파일이 실행될 때 파일 소유자 권한 가짐.
    
    어쩔 수 없이 루트 권한을 줘야하는 경우가 있다. → 패스워드 프로그램.
    

### 버퍼 오버플로 공격 ([링크](https://terms.naver.com/entry.naver?docId=3431936&categoryId=58437&cid=58437))

**데이터의 길이**에 대한 불명확한 정의 → 버퍼 오버플로 공격

사용자가 버퍼를 초과하는 값을 입력하면 버퍼 이후의 값이 바뀌게 됨.

**egg shell** : 기계어로 만든 코드를 메모리에 로드해주고 시작 주소가 어디인지 알려주는 틀

### 포맷 스트링 공격 ([링크](https://terms.naver.com/entry.naver?docId=3431940&categoryId=58437&cid=58437))

**데이터 형태**에 대한 불명확한 정의 → 포맷 스트링 공격

`printf("%s\n", buffer)` 가 아니라 

`char *buffer = “wishfree\n%x\n”; printf(buffer);` 와 같이 출력할 때 문제.

포맷스트링인 %s의 값을 바꾸는 것이 포맷 스트링 공격

작동원리 ) `%n` : 이전까지 쓰인 문자열의 총 바이트 수

### 메모리 해킹

프로그램의 **동작에 관여하지 않고**, 프로그램이 실행되는 데 **필요한 정보를 저장해둔 메모리를 조작**하는 공격

게임 머니나 아이템 조작과 같이 게임 해킹에 광범위하게 사용

휘발성이 강한 메모리 특성상 흔적 추적이 어려움.

메모리 주소에 저장되는 값을 암호화해야 함.
