**💡 비트코인에 대한 접근**

1. Bob이 Tom에게 4달러를 지불할 권리가 있는지 어떻게 아는가???
    - 익명 서명으로 transaction 진행
        
        Bob은 비밀키를 사용하여 거래에 대한 디지털 서명 생성
        
        이 서명을 통해 자신이 거래를 보낸 주체임을 증명할 수 있음.
        
    
2. `double-spending` 문제를 어떻게 막는가?
    - global public online ledger의 이전 장부들을 모두 확인
        
        분산된 장부에 모든 거래가 시간 순서대로 기록됨.
        
        → 네트워크 참여자들은 거래의 유효성을 검증하고, 중복된 거래가 있는지 확인하여 거래 승인
        
3. 분산되어있는 온라인 장부들의 `무결성`을 어떻게 지키는가??
    - PoW(Proof of Work)와 함께 가능

+) online ledger

디지털캐시에 시리얼 넘버 → 사용하거나 하면 해당 시리얼 넘버 기반으로 데이터베이스에 업데이트 됨.

<br/>

**💡 transaction block chain**

매 10분마다 블록이 레저에 추가됨.

<br/>

**💡 network가 run 되는 단계**

1. 새로운 transaction은 모든 node에 broadcast됨.
2. 각 노드는 새로운 transaction을 block에 수집함.
3. 각 노드는 자신의 블록에 대해 어려운 PoW를 찾도록 작업함.
    
    → 이를 통해 새로운 블록을 생성하는 권한을 얻음.
    
4. 노드가 PoW를 찾으면, 해당 블록을 모든 노드에게 broadcast함.
    
    → 다른 노드들이 새로운 블록을 받아들일 수 있음.
    
5. 다른 노드들은 해당 블록이 유효하고 already spent하지 않는 경우에만 해당 블록을 수락함.
6. 노드들은 다음 블록을 생성하기 위해 이전에 수락한 블록의 해시를 이용함.
    
    → 이를 통해 체인들이 연속되고 블록들이 연결됨.

<img src="https://github.com/JeeeunOh/Major-Study/assets/65931227/c952bf46-139c-43eb-8aaf-568aa9a42735" height="400px" width="700px">

<br/>

**💡 transaction??**

거래가 발생하면 해당 트랜잭션 정보를 네트워크의 모든 참여자에게 전달하는 과정.

→ 거래의 투명성과 신뢰성 보장 가능

→ 이 때 특정 노드가 아니라 전체 노드한테 전송함. ( 중앙 집중식 X, 분산 집중식 !!! )

<img src="https://github.com/JeeeunOh/Major-Study/assets/65931227/76e34566-7212-444e-91eb-77f4fd64059d" height="400px" width="700px">

- precTxHash는 이전 거래를 식별하는 해시, index는 해당 거래의 출력 중 사용하려는 출력의 인덱스
- 거래의 각 출력은 전체 블록체인에서 한번만 입력으로 사용 가능.
- 동일한 출력을 다시 참조하는 것은 double-spending으로 간주됨.

<br/>

**💡 Double-Spending??**

디지털화폐를 여러번 사용하려는 시도

ex. 하나의 비트코인을 여러 번 사용하려고 함.

<img src="https://github.com/JeeeunOh/Major-Study/assets/65931227/fd55d958-6116-412d-b91c-d222b2ddf47c" height="400px" width="700px">

이 때 비트코인은 트랜잭션 기록을 포함한 블록들의 체인으로 구성됨

→ 참여자들에 의해 거래 기록이 검증됨.

but, 디지털 화폐는 복제가 가능함!!! 

→ 한 사람이 같은 비트코인을 두 명 이상에게 보낼 수 있음.

→ 한 사람이 보유중인 비트코인 해시값을 두 명 이상한테 보냄!!

<br/>

**💡 어떻게 해결????**

**💡 Mint Model**

- Mint는 모든 거래를 인식하고, 신뢰할 수 있는 장부를 통해 어떤 거래가 먼저 도착했는지 결정하는 권한을 가진 기관.
- 중앙 기관인 Mint가 모든 거래를 확인하고 더블 스펜딩 여부를 체크함.
- 이 때, **가장 먼저 도착한 거래를 유효한 거래로 인정**함.
    
    단점 ) 중앙화된 신뢰 기관에 의존 → 탈중앙화된 분산 시스템에서는 블록체인과 같은 기술 이용 필요
    
<br/>

**💡 Blockchain Model**

- 신뢰할 수 없는 제 3자 없이 double-spending 문제를 해결하기 위해서는 참여자들이 받은 순서에 대해 동의할 수 있는 시스템이 필요함.
- 수취인은 각 거래가 최초로 도착했다는 증거를 필요로 함.
    
    → 대다수 투표 매커니즘을 통해 거래의 유효성과 순서를 결정!!!
    
    → 일반적으로 PoW, PoS를 사용함.
    

💡 **`PoW ( Proof of Work )`** 란??

네트워크 참여자들이 거래 유효성 검증 작업 수행

<br/>

**💡 Confirming Transaction 이란???**

채굴자가 어려운 퍼즐을 해결하고 그 해답을 PoW로 제공해 새로운 거래를 확인하는 클라이언트.

**과정 )**

1. 확인되지 않은 여러 거래와 보상 거래가 하나의 블록으로 결합됨.
2. 이전 블록의 해시값이 블록에 추가됨.
3. 블록에 nonce가 추가됨.
4. 최종 블록 b의 해시가 계산됨.

→ 채굴자는 퍼즐이 해결될 때까지 다른 nonce를 사용하여 시도함.

이런 작업 증명을 통해 채굴자는 새로운 거래를 확인하고 블록체인에 추가함.

→ 블록체인 네트워크의 분산성과 안전성을 제공함.

→ 거래의 순서 / 무결성 유지 / double spending 방지

<img src="https://github.com/JeeeunOh/Major-Study/assets/65931227/3267ba3c-e5b2-4faa-b237-19d3e7fb8054" height="400px" width="700px">

PoW에서는 각 채굴자의 CPU에 성능에 비례하여 투표 권한이 부여됨.

즉, 더 강력한 CPU를 가진 채굴자일수록 블록 생성에 더 많은 기회를 가짐.

이런 방식은 한 사람이 여러 개의 투표 권한을 가지는 것을 방지함.

<br/>

**💡 chain forking이란?**

<img src="https://github.com/JeeeunOh/Major-Study/assets/65931227/1fd4e5b4-0f47-47fa-be52-2338faf70c20" height="400px" width="700px">

- 블록체인 네트워크에서 여러 개의 분기된 체인이 동시에 생성되는 상황 말함.
- ‘가장 긴’ 체인을 선택함으로써 블록체인 네트워크 내에서 경쟁적인 분기된 체인을 해소함.
- ‘가장 긴’이란 aggregate ( 누적 ) 난이도가 가장 높은 체인을 의미함.
    
    = 가장 많은 작업을 수행한 체인
    

→ 가장 긴 체인을 선택하는 방식은 다수의 채굴자들이 동시에 다른 블록을 생성할 수 있는 상황에서도 합의를 도출하고 단일의 유효한 체인을 유지할 수 있도록 해 줌.

<br/>

**💡 Incentive**

1. **`coinbase transaction`**
    
    블록 내에서 첫 번째로 포함되는 거래임. 작업 증명을 성공적으로 생성한 채굴자에 대한 보상. 
    
    100개의 이후 블록이 검증된 후에만 사용할 수 있음.
    
2. **`transaction fee`**
    
    단일 거래가 아닌 거래 블록 내의 모든 거래에 대한 수수료.
    
    coinbase transaction을 삽입한 후에 채굴자는 PoW를 수행함.
    
    따라서, 모든 비트코인 채굴자는 서로 다른 작업 증명을 해결하게 됨.
    
<br/>

💡 **Calibration of PoW hardness 이란?**

- 작업 증명을 생성하는 기준은 약 10분
- 작업 증명의 난이도는 2016개의 블록 생성에 걸리는 시간을 측정함으로써 조정됨.
- 시간이 오래 걸릴 경우, 작업 증명의 난이도는 쉬워지고
    
    시간이 짧을 경우 난이도는 어려워짐.
    
<br/>

**💡 블록체인의 security??**

1. 악의적인 forking을 어렵게 만드는 수학적인 알고리즘과 규칙을 사용함.
    
    ex. PoW 알고리즘은 거대한 컴퓨팅 파워를 보유한 공격자가 악의적인 forking을 시도하는 것을 어렵게 함.
    
2. 블록체인에서 사용자들이 채굴자로 참여하거나 노드를 운영함으로써 경제적 보상을 받을 수 있음.
    
    like 코인베이스 보상 / 거래 수수료
    
    → 사용자가 많은 컴퓨팅 파워를 보유하고 있을 경우, 정직하게 블록을 생성하고 체인에 기여하는 것이 부정한 forking을 시도하는 것보다 이로울 것임.
