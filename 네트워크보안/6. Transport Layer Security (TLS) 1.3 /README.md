ν•Έλ“μ‰μ΄ν¬ μ¤‘ μΈμ¦λ°©μ‹μ€ DH 1.2 ν•Έλ“μ‰μ΄ν¬, DH 1.3 ν•Έλ“μ‰μ΄ν¬, RSA λ‹¤ λ¨.

**π’΅Β handshake κ³Όμ •μ—μ„ μΌμ–΄λ‚λ” κ²ƒ???**

- ν”„λ΅ν† μ½ λ²„μ „ ν‘μƒ
- μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ„ νƒ
- λΉ„λ€μΉ­ μ•”νΈν™” λ°©μ‹μΌλ΅ μ„λ΅ μΈμ¦
- λ‹¤μ λ‹¨κ³„μ—μ„ λ€μΉ­ μ•”νΈν™”μ— μ‚¬μ©ν•  κ³µμ  λΉ„λ°€ ν‚¤λ¥Ό μ„¤μ •

β†’ μΈμ¦ λ° ν‚¤ κµν™

<br/>

**π’΅ RSA handshake**

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/417c5eda-3d48-4ca0-b2ef-16f0577b6408)


κ³µκ°ν‚¤, κ°μΈν‚¤ μμ„ μƒμ„±ν•΄μ„ μ‚¬μ©ν•¨. 

μ„λ²„λ” κ³µκ°ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ κ³µν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μ„Έμ…ν‚¤λ¥Ό μƒμ„±ν• ν›„ μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ•”νΈν™”ν•μ—¬ μ„λ²„μ— μ „μ†΅ν•¨. μ„λ²„λ” κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈλ¬Έμ„ λ³µνΈν™”ν•κ³  μ„Έμ…ν‚¤λ¥Ό μ–»μ. 

β†’ μ•μ „ν•κ³  μ‹ λΆ°μ„±μ΄ λ†’μ§€λ§, μ—°μ‚°λ‰μ΄ λ†’μ•„ μ„±λ¥ μ΄μ μμ.

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/af4eeabf-3042-4a89-9f45-889ebb69af28)

<br/>

**π’΅Β DH 1.2 handshake**

ν΄λΌμ΄μ–ΈνΈ, μ„λ²„ κ°„ κ³µκ° λ§¤κ°λ³€μλ¥Ό κ³µμ ν•κ³  λΉ„λ°€ν‚¤λ¥Ό μƒμ„±ν•μ—¬ μ‚¬μ©ν•¨.

β†’ μ¤‘κ°„ κ°’μ΄ λ…Έμ¶λμ–΄λ„ λΉ„λ°€ν‚¤λ¥Ό μ μ¶”ν•κΈ° μ–΄λ ¤μ›€ β†’ μ•μ „μ„±μ΄ λ†’μ!!!!

<br/>

**π’΅Β DH 1.3 handshake**

TLS 1.3μ—μ„ μƒλ΅­κ² λ„μ…λ ν‚¤ κµν™ λ°©μ‹. 

ECDHλ¥Ό κΈ°λ°μΌλ΅ ν•¨. ECDHλ” νƒ€μ› κ³΅μ„ μ„ μ‚¬μ©ν•μ—¬ ν‚¤ κµν™ μν–‰

β†’ κΈ°μ΅΄ DH λ°©μ‹λ³΄λ‹¤ λ” ν¨μ¨μ μΈ μ—°μ‚° μ κ³µ

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/b09f0a10-14c9-463f-8687-5a8322f939ae)

<br/>

**π’΅Β AEADλ€?**

μΈμ¦λ μ•”νΈν™”λ¥Ό μλ―Έ. λ©”μ‹μ§€μ κΈ°λ°€μ„±κ³Ό λ¬΄κ²°μ„±μ„ ν•¨κ» μ κ³µν•λ” μ•”νΈν™” λ°©μ‹.

<br/>

**π’΅Β AEADκ°€ λ„μ…λ μ΄μ ?**

κΈ°μ΅΄μ CBCλ¨λ“μ™€ RC4μ€ μ΄μ „ λ²„μ „μ TLSμ—μ„ μ‚¬μ©λμ—μ§€λ§, λ³΄μ• κ²°ν•¨μ΄ λ°κ²¬λμ–΄ TLS 1.3μ—μ„ μ κ±° β†’ AEAD λ„μ…

AEADλ” CBCμ™€ RC4λ³΄λ‹¤ λ³΄μ•μ„±κ³Ό μ„±λ¥ λ©΄μ—μ„ λ” μ°μν• μ•”νΈν™” λ°©μ‹μΌλ΅ μΈμ •λ°›κ³  μμ.

[λ―Έλ””μ—„ λΈ”λ΅κ·Έ λ§ν¬](https://medium.com/@techschool.guru/a-complete-overview-of-ssl-tls-and-its-cryptography-system-31336a85c278) 

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/6389d07e-8911-41cc-be1e-5c419a036221)


MACκ³Ό μ•”νΈν™”λ λ©”μ‹μ§€κ°€ μμ‹ μμ—κ² μ „μ†΅λ¨.

μ΄ λ•, TLS 1.3μ—μ„λ” μ•”νΈν™”λ λ©”μ‹μ§€ μ™Έμ—λ„ μ£Όμ†, ν¬νΈ, ν”„λ΅ν† μ½ λ²„μ „, μ‹ν€€μ¤ λ²νΈ κ°™μ€ λ°μ΄ν„° μΈμ¦ν•¨. 

β†’ μ΄ λ°μ΄ν„°λ¥Ό MACμ μ…λ ¥κ°’μΌλ΅ λ„£κΈ°λ„ ν•¨.

μ΄λ° μ¶”κ°€ λ°μ΄ν„°λ“¤λ΅ μΈμ¦λ μ•”νΈν™” λ°©μ‹μ„ AEADλΌκ³  ν•¨.

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/9421f0b6-3823-4740-b144-7668e186e849)


μ΄λ ‡κ² μ•”νΈν™”λ λ©”μ‹μ§€λ” λΉ„λ°€ν‚¤, nonceμ™€ ν•¨κ» MAC μ•κ³ λ¦¬μ¦μΌλ΅ ν•΄λ…λ¨.

β†’ μμ‹ μλ” μ΄λ ‡κ² ν•΄λ…λ MACκ°’κ³Ό μμ‹ ν• MAC κ°’ λΉ„κµν•΄μ„ λ©”μ‹μ§€ λ¬΄κ²°μ„± ν™•μΈ κ°€λ¥.

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/b70c67a6-d6ce-4b6d-9651-4642a4e82d55)

<br/>

**π’΅Β Client Hello**

2 κ°μ κ³µκ° ν‚¤ ( λ””ν”Όν—¬λ§μ©, Curve λ””ν”Όν—¬λ§μ© ) κ³µμ  β†’ μ–΄λ–¤ μ•κ³ λ¦¬μ¦μ΄λ κ³µμ  λΉ„λ°€ν‚¤ κ³„μ‚° κ°€λ¥

μ§€μ›ν•λ” μ„λ… μ•κ³ λ¦¬μ¦ λ©λ΅ μ κ³µ

<br/>

**π’΅Β Server Hello**

μ„λ²„λ¥Ό μΈμ¦ν•  μ μλ” μΈμ¦μ„ λ‹΄μ•„ λ³΄λƒ„.

μ„ κ³Όμ •μ„ κ±°μΉκ³  λ‚μ„λ”, κ·Έ ν›„λ΅λ” μ¶•μ•½λ ν•Έλ“μ…°μ΄ν¬ μν–‰

β†’ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅λ¥Ό μΈμ¦ν• ν›„μ΄κΈ° λ•λ¬Έμ— λ‹¤μ‹ μΈμ¦ν•  ν•„μ”κ°€ μ—†μ.

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/df141355-e874-4796-824b-858e0785c1b2)

<br/>

**π’΅Β λ‹¤μ hello λ¶€ν„° μ£Όκ³  λ°›λ” κ²ƒ?**

μ΄μ „ ν•Έλ“μ‰μ΄ν¬μ—μ„ μ–»μ—λ PSK ID λ©λ΅ λ³΄λƒ„. 

λ””ν”Όν—¬λ§ λ¨λ“μ PSKκ°€ μ‚¬μ©λλ” κ²½μ°, ν΄λΌμ΄μ–ΈνΈλ„ λ””ν”Όν—¬λ§ κ³µκ°ν‚¤λ¥Ό κ³µμ ν•΄μ•Όν•¨.

β†’ μ„λ²„κ°€ μ „μ²΄ ν•Έλ“μ‰μ΄ν¬λ΅ λμ•„κ° μ μμ.

μ΄ helloλ¥Ό λ°›μ€ μ„λ²„λ” μ„ νƒν• μ‚¬μ „ κ³µμ  ν‚¤ ID, μ„ νƒν• λ””ν”Όν—¬λ§ κ³µκ°ν‚¤λ¥Ό λλ ¤μ¤

β†’ ν΄λΌμ΄μ–ΈνΈλ” λ°μ΄ν„°λ¥Ό λ³΄λ‚΄κΈ° μ„ν•΄ ν•Έλ“μ‰μ΄ν¬κ°€ μ™„λ£λ  λ•κΉμ§€ κΈ°λ‹¤λ¦΄ ν•„μ” X

<br/>

Q. FULLλ³΄λ‹¤ κ°„μ†ν™”λ handshakeμ—μ„ μ–΄λ–»κ² μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ΅λ¥Ό μ‹ λΆ°??

TLS 1.3μ—μ„λ” **Pre-Shared Key (PSK)λ¥Ό μ‚¬μ©ν•μ—¬ ν•Έλ“μ‰μ΄ν¬λ¥Ό κ°„μ†ν™”** κ°€λ¥.

β†’ PSKλ¥Ό μ‚¬μ©ν•λ©΄ κΈ°μ΅΄μ— μ‚¬μ©λ μ•”νΈν™” ν‚¤λ¥Ό λ‹¤μ‹ μ‚¬μ© κ°€λ¥ 

β†’ ν•Έλ“μ‰μ΄ν¬κ°€ λ”μ± λΉ λ¥΄κ³  ν¨μ¨μ μ΄κ² λ¨.

<br/>

**PSK ν‹°μΌ“** : ν•Έλ“μ‰μ΄ν¬κ°€ λλ‚ ν›„μ—λ„ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ— λ€ν• μ •λ³΄λ¥Ό μ €μ¥. λ§λ£κΈ°ν• μμ.

β†’ ν΄λΌμ΄μ–ΈνΈλ” μ΄λ¥Ό μ‚¬μ©ν•μ—¬ μ΄μ „μ— ν•Έλ“μ‰μ΄ν¬ν• μ„λ²„μ™€ λ”μ± λΉ λ¥΄κ³  ν¨μ¨μ μΌλ΅ ν•Έλ“μ‰μ΄ν¬λ¥Ό μν–‰ κ°€λ¥

<br/>

**μ¥μ  )** ν•Έλ“μ‰μ΄ν¬μ μ„±λ¥μ„ ν–¥μƒ & λ³΄μ•μ„± μ μ§€

![image](https://github.com/JeeeunOh/Univ-Lecture/assets/65931227/9498e1d7-c21a-4c1a-8a28-a96831688132)


- TLS 1.3μ—μ„λ” RSA κ°™μ€ ν‚¤ κµν™ λ°©μ‹μ΄ μ κ±°λ¨ β†’ λ” μ•μ „ν• ν‚¤ κµν™ λ©”μ»¤λ‹μ¦μΌλ΅ κµν™
- TLS 1.2λ³΄λ‹¤ μ™•λ³µ 1ν μ΄μƒ λΉ λ¦„.
- TLSμ λ€μΉ­ μ•”νΈν™”λ” AEADκ°€ ν•„μ β†’ λ” μ•μ „ν•¨.
   CBC, RC4 κ°™μ€ μ•½ν• μ•κ³ λ¦¬μ¦ μ κ±°
